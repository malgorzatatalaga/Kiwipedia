<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Edytuj użytkownika</title>
    <link rel="stylesheet" href="/css/navbar.css">
</head>
<body>
<nav>
    <ul style="list-style-type: none; padding: 0; background-color: #333; margin: 0; text-align: center;">
        <li style="display: inline; margin-right: 10px;"><a href="/kiwi-facts" style="text-decoration: none; color: white; padding: 10px 20px;">Fakty o kiwi</a></li>
        <li style="display: inline; margin-right: 10px;"><a href="/gatunki" style="text-decoration: none; color: white; padding: 10px 20px;">Gatunki kiwi</a></li>
        <li style="display: inline; margin-right: 10px;"><a href="/gdzie-zyje-kiwi" style="text-decoration: none; color: white; padding: 10px 20px;">Gdzie żyje kiwi?</a></li>
        <li sec:authorize="hasRole('ADMIN')">
            <a href="/admin/dashboard" style="text-decoration: none; color: white; padding: 10px 20px;">Panel Admina</a>
        </li>
        <li style="display: inline; margin-right: 10px;"><a href="/logout" style="text-decoration: none; color: white; padding: 10px 20px;">Wyloguj się</a></li>
    </ul>
</nav>
<h2>Zmień nazwę użytkownika i rolę</h2>
<form th:action="@{/admin/update-user/{id}(id=${user.id})}" method="post">
    <label for="username">Nazwa użytkownika:</label>
    <input type="text" id="username" name="username" th:value="${user.username}">

    <label for="role">Rola:</label>
    <select id="role" name="role">
        <option th:each="role : ${roles}" th:value="${role}" th:text="${role}" th:selected="${user.roles.contains(role)}"></option>
    </select>
    <button type="submit">Zapisz</button>
</form>
<div style="margin-top: 20px;">
    <a href="/admin/manage-users" class="button">Powrót do zarządzania użytkownikami</a>
</div>
</body>
</html>
